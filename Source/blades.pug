include pug/definitions.pug
//- Image preloading
.preload
  each size in [4, 6, 8, 10]
    each num in range(0, size)
      img(src=`https://raw.githubusercontent.com/joesinghaus/Band-of-Blades/master/Assets/clocks/${size}/${num}.png`)
  each num in range(0, 8)
    img(src=`https://raw.githubusercontent.com/joesinghaus/Band-of-Blades/master/Assets/clocks/xp-8/xp-${num}.png`)
  each num in range(0, 4)
    img(src=`https://raw.githubusercontent.com/joesinghaus/Band-of-Blades/master/Assets/clocks/favor/favor-${num}.png`)

//- Hidden inputs
div
  +hidden-input("changed_attributes")(value="")
  +hidden-input("bonusdice")(value="Bonus dice")
  +hidden-input("numberofdice")(value="?{Number of dice|0,{{zerodie1=[[d6]]&#44;&#125;&#125; {{zerodie2=[[d6]]&#125;&#125;|1,{{die1=[[d6]]&#125;&#125;|2,{{die1=[[d6]]&#44;&#125;&#125; {{die2=[[d6]]&#125;&#125;|3,{{die1=[[d6]]&#44;&#125;&#125; {{die2=[[d6]]&#44;&#125;&#125; {{die3=[[d6]]&#125;&#125;|4,{{die1=[[d6]]&#44;&#125;&#125; {{die2=[[d6]]&#44;&#125;&#125; {{die3=[[d6]]&#44;&#125;&#125; {{die4=[[d6]]&#125;&#125;|5,{{die1=[[d6]]&#44;&#125;&#125; {{die2=[[d6]]&#44;&#125;&#125; {{die3=[[d6]]&#44;&#125;&#125; {{die4=[[d6]]&#44;&#125;&#125; {{die5=[[d6]]&#125;&#125;|6,{{die1=[[d6]]&#44;&#125;&#125; {{die2=[[d6]]&#44;&#125;&#125; {{die3=[[d6]]&#44;&#125;&#125; {{die4=[[d6]]&#44;&#125;&#125; {{die5=[[d6]]&#44;&#125;&#125; {{die6=[[d6]]&#125;&#125;}")
  +hidden-input("notes_query")(value="?{Notes}")
  +hidden-input("position_query")(value="?{Position|Risky,position=Risky|Controlled,position=Controlled|Desperate,position=Desperate|Fortune roll,short=short}")
  +hidden-input("effect_query")(value="?{Effect|Standard|Limited|Great|Extreme|Zero}")
  +hidden-input("consequence_query")(value="^{a_consequence}")
  +hidden-input("upgraded_from_rookie")(value="0")
  +hidden-input("upgraded_from_soldier")(value="0")

//- Global settings
+hidden-input("setting_flexwidth")(value="0").flexwidth
+hidden-input("setting_show_alchemicals")(value="0").show-alchemicals
+hidden-input("show_menu")(value="1").show-menu

+hidden-input("sheet_type")(value="character").type

//- Actual sheet
.container
  //- Version info & settings
  include pug/title.pug
  .sheet-menu
    include pug/menu.pug
  .sheet-type-character
    include pug/character.pug
  //- Commander sheets
  .sheet-type-commander
    include pug/commander.pug
  .sheet-type-lorekeeper
    include pug/lorekeeper.pug
  .sheet-type-marshal
    include pug/marshal.pug
  .sheet-type-quartermaster
    include pug/quartermaster.pug
  .sheet-type-spymaster
    include pug/spymaster.pug
  //- Divines
  .sheet-type-chosen
    include pug/chosen.pug
  .sheet-type-broken
    include pug/broken.pug

//- Force a line break
|
|
include pug/rolltemplate.pug
|
|
script(type='text/worker')
  != locals.workers
